---
title: "[HTB] Facts (Easy_Linux)"
date: 2026-02-09 18:25:00 +09:00
categories: [hacking, saturnx operators, Linux]
tags: [Hack The Box, Easy]
password: "20260209"
---

## 시작에 앞서

![Facts](https://github.com/user-attachments/assets/230e685d-fc86-47a1-919b-e8fae647e849)

오랜만에 여행을 다녀온 후 진행한

![season10](https://github.com/user-attachments/assets/51f27ee0-2943-444d-9e0f-a10dcb55249d)

그것도 이번엔 놓치지 않고 `Season 10`에 나온 문제들을 풀기 시작했다.

이번 문제는 **Linux**이며 권한 상승은 정말 간단하고 쉬웠지만 유저 획득이 좀 많이 해매었던 문제라고 볼 수 있겠다.

어쩌면 내가 CVE가 아닌 직접 코드를 뜯어보거나 웹 페이지들을 분석해서 풀어보려하여 더 그랬을 수도 있고.

## 정찰 및 정보 수집 (Reconnaissance & Enumeration) 

![nmap1](https://github.com/user-attachments/assets/6e9d4ce0-bafd-4676-923e-b63144de7479)

처음 ip를 받아 nmap 기본 스크립트를 돌려보았을 때에 22번 포트에 ssh가, 80번 포트에서는 `http://facts.htb/`로 리다이렉트 된다는 것을 알았기에 도메인을 추가해줬다.

![etchosts](https://github.com/user-attachments/assets/53312bfc-b77d-432b-805e-ba2be176a5ca)

그 후 다시 스캔을 진행하니,

![nmap2](https://github.com/user-attachments/assets/b04d4e1f-dfab-45ba-9f8c-84e07127306d)

위처럼 **facts**라는 타이틀의 사이트를 발견할 수 있었다.

![factsweb1](https://github.com/user-attachments/assets/a5b6d7af-54a6-46a9-9d8f-d1dac92f5bf9)

사이트에 접속하여 보면 뭔가 그냥 여러 정보가 있는 사이트라는 설명이 쓰여있다. 킬링타임용 사이트라는데?

![factsweb1](https://github.com/user-attachments/assets/727b337d-e99c-4c09-a42c-ef4a75bd373f)

`Wappalyzer`을 통해 사이트 스택을 보니 Ruby로 되어있다는 것을 알 수는 있었다. 하지만 요건 문제풀 때에는 딱히? 

![factsweb1](https://github.com/user-attachments/assets/01b90b29-e6e6-4fdd-b4d1-964b5b5166bc)

내려보면 회사 정보나 리뷰가 있고,

![factsweb1](https://github.com/user-attachments/assets/2a309d98-54aa-4b83-8f03-e2a376d2c4c8)

게시글을 들어가보니 

![factsweb1](https://github.com/user-attachments/assets/88b1b76f-238f-479d-9e7f-295ef184a2be)

그냥 한 사진과 댓글들이 있었다.

근데 이 외에 뭔가 클릭을 통해 넘어갈 수 있는 로그인 페이지도 없고(댓글 어케 달았누) 게시글을 올릴 수 있는 부분도 없고, 다운 받거나 뭔갈 올릴 수 있는 부분도 없었다. 그러니 이제 디렉터리 브루트포싱을 위해 **gobuster**나 **dirsearch**를 돌려보자.

![gobuster](https://github.com/user-attachments/assets/c1e9a98f-b689-4fb0-97ac-6995c60ea0e6)

![dirsearch](https://github.com/user-attachments/assets/e21ed757-d362-4599-a91b-2e65b909d6c8)

사실 도구를 이용할 때에 gobuster에 쓴 **list(directory-list-2.3-small.txt)** 가 너무 커서 그런지 좀 많이 오래걸려서 뭔가 걸렸네? 싶어서 멈췄고 사실 dirsearch의 결과도 거의 비슷했다.

- **/index**
- **search**
- **rss**
- **sitemap**
- **en**
- **page**
- **welcome**
- **admin**
- **post**
- **ajax**
- **Index**
- **up**
- **404**
- **robots**
- **error**
- **captcha**

위 링크들을 다 들어가보긴 했는데

![up.php](https://github.com/user-attachments/assets/16140040-a216-4fef-8235-086d6a0e9528)

진짜 up.php는 뭔지 모르겠고, 무슨 그린 스크린마냥.

![search](https://github.com/user-attachments/assets/17586ab4-a697-49f7-bec9-6ea922880cd3)

search는 이름 그대로 검색 하는 부분인데 혹시 여기 검색할 때에 공격할 수 있는 부분이 있지 않을까 싶기도 했고.

![rss](https://github.com/user-attachments/assets/971b88d9-8a5e-44ea-a0ce-f79d75be9f09)

rss는 

![rss1](https://github.com/user-attachments/assets/5ee6985a-2221-437f-8efe-20cb6253d256)

그렇다고 하고.

![admin](https://github.com/user-attachments/assets/026fc9de-04a9-4369-9f5b-70be3090b25c)

바~로 요기! **/admin/login**이 우리가 찾던 로그인 페이지였다!

근데 좀 의아한건 admin 이면 관리자라는 건데 여기에 왜 계정 생성이 있는건지는 의문이다. 일반 사용자도 관리자가 될 수 있다는 뜻?

## 초기 침투 (Initial Foothold / Exploitation)

![login dashboard](https://github.com/user-attachments/assets/df5c35e6-30d0-42ce-ba36-be3a63ef42c9)

회원가입 부분은 매우 간단하니 진짜 회원가입 하듯 진행하면 되고, 이후 로그인에 성공하게되면 위처럼 dashboard를 볼 수가 있는데 애초에 내가 사이트를 만들거나 하지도 않았고, 아까 예상했듯 이름만 `/admin`이지 아무래도 user의 계정으로 로그인 된 듯 보였다.

그나마 추가적인 정보라면 **Camaleon CMS**로 만들어졌으며 **버전 2.9.0**이라는 것이겠다.

![profile](https://github.com/user-attachments/assets/be999b57-3de1-4073-8d98-80144a6caa31)

여기서 할 수 있는 것이 없으니 Profile을 눌러 개인정보 설정으로 넘어가면,

![edit](https://github.com/user-attachments/assets/a65f8ee5-8169-42d1-806e-950be9b3e774)

개인정보 수정을 할 수 있게 되는데

![role](https://github.com/user-attachments/assets/14c41a52-b1ae-4297-84b5-ed72d263e217)

여기서도 뭘 할 수 있을까 둘러보다 `Role`이라는 부분이 좀 거슬렸다.

아무래도 지금 내가 `Client`이기에 뭔가 페널에서 더 볼 수 있는 것이 없는듯 했고 코드를 보니 **Client**말고 **Administrator**, **contributor**, **editor**도 존재함을 확인할 수 있었다.

![change password](https://github.com/user-attachments/assets/d31645ea-0f77-41db-b33b-220ddd3796cb)

그리고 여기서 **Change Photo**나 **Update**, **Change Password** 등을 하며 Burpsuite로 찍어봤는데

![updated_ajax](https://github.com/user-attachments/assets/3b200956-fa51-4182-ba09-f7d126514431)

여기서 **Change Password** 부분을 진행할 때 `/admin/users/5/update_ajax`를 통해 정보를 변경시킨 다는 것을 알 수 있었다.

다른 변경은 `/admin/users/5`를 통해 진행되었고 여기에서는 뭘 변경하든 추가적으로 되는 것이 없었고, 유일하게 좀 다른 `update_ajax`를 노려보기로 했다... 만! 나는 이런 리퀘스트 정보나 이런걸 수정해본 적이 없었기 때문에 솔직히 뭘 써넣어야 하는지 전혀 감을 잡지 못했다.

![공식](https://github.com/user-attachments/assets/246310a8-ff12-490e-83be-365c9b8c0b14)

하지만 공식 github(오픈소스라서)를 통해 읽어보다 `params`부분에 정보를 넣는다는 것을 알게되었고...

역시 뭘 해야할지 감을 못잡았다. ㅎ

그래서 이번엔 제미니 선생님께 도움을 요청했고, 사실상 내가 중요한 것들은 다 찾았는데 정작 잘 몰라서 익스프로잇을 하지 못하고 있었다는 것을 알게됬다.

![burp](https://github.com/user-attachments/assets/cb4db793-2bb3-4c39-8d0e-180491002f5b)

너무 작아서 보일지는 모르겠지만 위 과정이 비밀번호 변경 요청을 보낼 때에 날라가는 정보들이고 본래는 `password_confirmation%5D=0000`으로 끝나야 하지만 마지막 부분에 추가로 `&password[role]=admin`을 추가해 내 권한을 admin으로 변경하는 요청을 보내버렸다.

![got admin](https://github.com/user-attachments/assets/e4201605-32f2-407d-8ce4-4bb0b130a823)

그렇게! 내 계정은 관리자 권한을 얻게 되었다.

![cve-2025-2304](https://github.com/user-attachments/assets/f9cf40c2-b637-4c22-8add-75815ce56428)

만 사실 이게 그냥 `camaleon CMS 2.9.0 exploit`이라고 검색만 해도 나오는 CVE가 있었다는 사실. 하긴 그러니까 이번 HTB에 머신이 올라온거겠지?

CVE는 `CVE-2025-2304`로 우리가 했던 작업 그대로이다.

![](https://github.com/user-attachments/assets/c4f30154-b69b-4bec-bf28-a2a704a1653e)

[predyy/CVE-2025-2304](https://github.com/predyy/CVE-2025-2304)

그리고 위 CVE 익스플로잇 코드를 보니 저래서 내가 처음에 `user[role]=admin`으로 계속 시도했었는데 저래서 안되는 거였구나 싶다. 그리고 뭔가 나도 익스 코드 만들어보고 싶은 마음이 솔솔?

> 2026-02-10 일단 오늘은 여기까지.

## 권한 상승 (Privilege Escalation) 

## 마치며

