---
title: "라즈베리파이 피코로 만드는 러버더키 실습"
date: 2025-07-05 13:36:00 +09:00
categories: [hacking]
tags: [러버더키, raspi pico, 라즈베리파이, 도구]
pin: true
---

## 러버더키가 무엇인가?

![Image](https://github.com/user-attachments/assets/37f934ec-26be-485e-82bd-f39a0ac4aa41)

[러버더키(Rubber Ducky)](https://shop.hak5.org/products/usb-rubber-ducky)는 겉보기에는 일반 USB처럼 생겼지만, 사실은 **키보드처럼 동작하는 해킹 도구(HID 디바이스)**입니다. 연결하면 사람이 직접 키보드를 치는 것처럼 명령을 자동으로 입력하며, 보안 테스트나 공격 시나리오 검증 등에 사용됩니다.

보안 커뮤니티에서 러버더키는 다음과 같은 이유로 주목을 받아왔습니다:

- **플러그 앤 플레이**: 꽂기만 하면 자동 실행됨
- **운영체제 독립적**: Windows, Linux, macOS 등 대부분의 OS에서 작동
- **간단한 스크립트 작성**: Ducky Script라는 쉬운 언어를 사용

그러나 원래의 러버더키 제품은 가격이 비싸거나(2025년 7월 7일 기준 $100.00...) 국내에서 구하기 어려운 경우가 많습니다.

그래서 이번 글에서는 저렴한 대안인 **라즈베리파이 피코(Raspberry Pi Pico)** 를 사용해서 **러버더키를 직접 만들어보는 실습**을 진행해보려 합니다. 알리익스프레스에서 할인까지 받으면 고~작 986원 밖에 안한다는 사실! (필자는 심지어 2000원에 샀는데 그세 더 싼 것도 올라왔네요 ㅎㄷㄷ)

![Image](https://github.com/user-attachments/assets/a88d70a9-ecc8-4498-9f06-fa689c826a01)

이 포스트에서는 라즈베리파이 피코를 이용해서 비슷한 디바이스를 만들 생각이기에 만약 러버더키가 무엇인지, 어떻게 쓰는지 등을 간단히 알고 싶다면 [해커스랩 : 플러그앤Hack! USB 러버덕키 사용후기](https://hackerslab.org/geek/review-usb-rubber-ducky/)를 보시면 좋습니다!

### USB 자동실행 방식 (autorun.inf)도 있었지 않나요?

과거에는 USB에 `autorun.inf` 파일을 심어 PC에 꽂기만 해도 특정 프로그램이 자동 실행되도록 하는 방식이 널리 사용되었습니다. 하지만 이런 방식은 악성코드 유포 수단으로 자주 악용되었고, 이후 운영체제 제조사들이 이를 차단하는 보안 정책을 도입했습니다.  

특히 Windows 7 이후로는 대부분의 USB 저장 장치에서 `autorun` 기능이 더 이상 작동하지 않게 되었습니다.

이로 인해 단순한 USB 방식의 자동 실행 공격은 어려워졌지만, **키보드 장치(HID)는 여전히 신뢰할 수 있는 입력 장치로 간주되기 때문에 보안적으로 허점을 가질 수 있습니다.**  

운영체제는 키보드 입력을 사용자 행동으로 인식하기 때문에, 러버더키는 이를 이용하여 **자동으로 단축키를 누르거나 명령어를 입력하는 식의 공격을 수행**할 수 있습니다.

[USB 보안을 강화하는 법! 악성 펌웨어 'BadUSB' 공격 방지](https://blog.naver.com/softwidesec/223628880733)

그리고 우리가 만들려는 장치는 `BadUSB`이고 이에 대해 추가적인 이야기를 알고 싶다면 위 블로그를 읽어주세요!

### 그럼 우리가 BadUSB를 막기 위해 어떤 것들을 할 수 있을까?

[오토런 바이러스로부터 내 컴퓨터 안전하게 보호하는 방법 [SK브로드밴드 공식블로그:티스토리]](https://blog.skbroadband.com/2755)

위 블로그에서도 여러 방법이 자세히 나와있지만 솔직히 개인적인 생각으로는 일단 이상한 USB 장치들은 열어보지 않는게 좋겠죠? 책상에 그냥 놓아져 있는 USB는 나쁜 사람이 아니라면 당연히 가져가지 않을 것이고 바닥에 버려져있는 USB도 굳이 열어볼 이유가 없잖아요? 심지어 아래와 같은 경우도 있었으니까요.

[트립고잉 | 전 세계 곳곳에 약 2000여 개의 USB가 있다](https://www.instagram.com/p/CwwS21Rphzs/)

이 사례는 '데드드롭(Dead Drops)'이라는 예술 프로젝트라고는 하지만,  
오늘날 BadUSB 기법이 널리 퍼진 만큼 **공공장소의 USB를 무작정 꽂는 것은 매우 위험한 행동**이 될 수 있습니다.

자 이제 매우 간단한 사전 지식을 알아보았으니 장치를 가지고 직접 만들어보도록 하죠!

## 준비물

이제 본격적으로 라즈베리파이 피코를 이용한 러버더키 실습을 시작해봅시다.  
먼저 아래와 같은 준비물이 필요합니다:

| 품목 | 설명 |
|------|------|
| **Raspberry Pi Pico** | RP2040 기반 마이크로컨트롤러. (*Pico W도 가능하나 Wi-Fi 기능은 사용 안 함*) |
| **USB 데이터 케이블 (USB-A to Micro-USB)** | 피코를 PC에 연결할 때 사용. 꼭 **충전 전용이 아닌 데이터 전송 가능** 케이블을 사용하세요. |
| **컴퓨터 (Windows / Linux / macOS)** | 피코에 펌웨어를 업로드하고, 스크립트를 작성할 작업 환경입니다. |
| **인터넷 연결** | CircuitPython 및 라이브러리 다운로드 시 필요합니다. |

사실상 라즈베리파이 피코만 있다면 다 준비가 되어있겠죠? 아 그리고 참고로 필자는 피코를 살 때 알리익스프레스에서 천원마트로 싸게 가격 맞춰서 사느냐고 와이파이 기능이 없는 `pico w`를 구매했기에 와이파이 기능까지는 사용하지 못합니다만, 엄청 간단하니 만약 있다면 실습이 끝난 후에 추가적으로 진행해 보세요! 그런게 더 재밌는 법이죠!

### 소프트웨어 / 파일

| 항목 | 설명 |
|------|------|
| [CircuitPython 펌웨어](https://circuitpython.org/board/raspberry_pi_pico/) | 라즈베리파이 피코에서 파이썬을 실행할 수 있게 해주는 펌웨어입니다. |
| [Adafruit HID 라이브러리](https://github.com/adafruit/Adafruit_CircuitPython_HID) | 키보드/마우스 입력을 위한 라이브러리 (CircuitPython용) |
| **코드 에디터 (예: VS Code, 메모장, vi, vim 등)** | 필자는 vscode를 매우 선호하지만 사실 메모장으로도 코드 편집은 가능하니 뭐든 상관 없답니다 |

그럼 이제 재료가 준비되었으니 요리를 시작해보죠


---- 공사중 (2025-07-16-23-48) ----

## CircuitPython 설치하기

### 1. BOOTSEL 모드로 Pico 연결하기

### 2. CircuitPython 다운로드

### 3. 펌웨어 업로드

## Adafruit HID 라이브러리 복사하기

### 1. 라이브러리 번들 다운로드

### 2. 압축 해제 후 필요한 파일 복사

## code.py 작성 및 테스트